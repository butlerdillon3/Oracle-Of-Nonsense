.meteor-shower {
  position: fixed;
  inset: 0;
  z-index: 0; /* Same level as shooting stars, behind crystal ball */
  pointer-events: none;
  overflow: hidden;
}

.meteor {
  position: absolute;
  width: 60px; /* Larger than shooting stars for dramatic effect */
  height: auto;
  transform: translate(0, 0) rotate(var(--rotation, 0deg));
  animation: meteor-fly var(--duration, 2000ms) linear forwards;
  image-rendering: pixelated; /* Keep pixel aesthetic */
  filter: drop-shadow(0 0 10px rgba(255, 150, 50, 0.8)) 
          drop-shadow(0 0 20px rgba(255, 100, 0, 0.6))
          drop-shadow(2px 2px 0 #000); /* Glowing trail effect */
  will-change: transform;
}

@keyframes meteor-fly {
  0% {
    opacity: 0;
    transform: translate(0, 0) rotate(var(--rotation, 0deg)) scale(0.5);
  }
  10% {
    opacity: 1;
    transform: translate(calc(var(--dx) * 0.1), calc(var(--dy) * 0.1)) rotate(var(--rotation, 0deg)) scale(1);
  }
  90% {
    opacity: 1;
    transform: translate(calc(var(--dx) * 0.9), calc(var(--dy) * 0.9)) rotate(var(--rotation, 0deg)) scale(1);
  }
  100% {
    opacity: 0;
    transform: translate(var(--dx), var(--dy)) rotate(var(--rotation, 0deg)) scale(0.8);
  }
}

/* Add some sparkle effects for extra chaos */
.meteor::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 4px;
  height: 4px;
  background: #fff;
  border-radius: 50%;
  box-shadow: 
    -20px -10px 0 #ffaa00,
    -15px -5px 0 #ff6600,
    -10px 0px 0 #ff3300,
    -25px 5px 0 #ffdd00,
    -30px -15px 0 #fff;
  animation: sparkle var(--duration, 2000ms) linear infinite;
  opacity: 0.8;
  z-index: -1;
}

@keyframes sparkle {
  0%, 100% {
    opacity: 0.3;
    transform: translate(-50%, -50%) scale(0.5);
  }
  50% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1.2);
  }
}
